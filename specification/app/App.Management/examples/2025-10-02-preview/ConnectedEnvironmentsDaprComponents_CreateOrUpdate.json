{
  "parameters": {
    "api-version": "2025-10-02-preview",
    "componentName": "reddog",
    "connectedEnvironmentName": "myenvironment",
    "daprComponentEnvelope": {
      "properties": {
        "componentType": "state.azure.cosmosdb",
        "ignoreErrors": false,
        "initTimeout": "50s",
        "metadata": [
          {
            "name": "url",
            "value": "<COSMOS-URL>"
          },
          {
            "name": "database",
            "value": "itemsDB"
          },
          {
            "name": "collection",
            "value": "items"
          },
          {
            "name": "masterkey",
            "secretRef": "masterkey"
          }
        ],
        "scopes": [
          "container-app-1",
          "container-app-2"
        ],
        "secrets": [
          {
            "name": "masterkey",
            "value": "keyvalue"
          }
        ],
        "serviceComponentBind": [
          {
            "name": "statestore",
            "metadata": {
              "name": "daprcomponentBind",
              "value": "redis-bind"
            },
            "serviceId": "/subscriptions/9f7371f1-b593-4c3c-84e2-9167806ad358/resourceGroups/ca-syn2-group/providers/Microsoft.App/containerapps/cappredis"
          }
        ],
        "version": "v1"
      }
    },
    "resourceGroupName": "examplerg",
    "subscriptionId": "8efdecc5-919e-44eb-b179-915dca89ebf9"
  },
  "responses": {
    "200": {
      "body": {
        "name": "reddog",
        "type": "Microsoft.App/connectedEnvironments/daprcomponents",
        "id": "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg/providers/Microsoft.App/connectedEnvironments/jlaw-demo1/daprcomponents/reddog",
        "properties": {
          "componentType": "state.azure.cosmosdb",
          "deploymentErrors": null,
          "ignoreErrors": false,
          "initTimeout": "50s",
          "metadata": [
            {
              "name": "url",
              "value": "<COSMOS-URL>"
            },
            {
              "name": "database",
              "value": "itemsDB"
            },
            {
              "name": "collection",
              "value": "items"
            },
            {
              "name": "masterkey",
              "secretRef": "masterkey"
            }
          ],
          "provisioningState": "Succeeded",
          "scopes": [
            "container-app-1",
            "container-app-2"
          ],
          "secrets": [
            {
              "name": "masterkey"
            }
          ],
          "serviceComponentBind": [
            {
              "name": "statestore",
              "metadata": {
                "name": "daprcomponentBind",
                "value": "redis-bind"
              },
              "serviceId": "/subscriptions/9f7371f1-b593-4c3c-84e2-9167806ad358/resourceGroups/ca-syn2-group/providers/Microsoft.App/containerapps/cappredis"
            }
          ],
          "version": "v1"
        }
      }
    },
    "201": {
      "body": {
        "name": "reddog",
        "type": "Microsoft.App/connectedEnvironments/daprcomponents",
        "id": "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg/providers/Microsoft.App/connectedEnvironments/jlaw-demo1/daprcomponents/reddog",
        "properties": {
          "componentType": "state.azure.cosmosdb",
          "ignoreErrors": false,
          "initTimeout": "50s",
          "metadata": [
            {
              "name": "url",
              "value": "<COSMOS-URL>"
            },
            {
              "name": "database",
              "value": "itemsDB"
            },
            {
              "name": "collection",
              "value": "items"
            },
            {
              "name": "masterkey",
              "secretRef": "masterkey"
            }
          ],
          "provisioningState": "InProgress",
          "scopes": [
            "container-app-1",
            "container-app-2"
          ],
          "secrets": [
            {
              "name": "masterkey"
            }
          ],
          "serviceComponentBind": [
            {
              "name": "statestore",
              "metadata": {
                "name": "daprcomponentBind",
                "value": "redis-bind"
              },
              "serviceId": "/subscriptions/9f7371f1-b593-4c3c-84e2-9167806ad358/resourceGroups/ca-syn2-group/providers/Microsoft.App/containerapps/cappredis"
            }
          ],
          "version": "v1"
        }
      }
    }
  },
  "operationId": "ConnectedEnvironmentsDaprComponents_CreateOrUpdate",
  "title": "Create or update dapr component"
}